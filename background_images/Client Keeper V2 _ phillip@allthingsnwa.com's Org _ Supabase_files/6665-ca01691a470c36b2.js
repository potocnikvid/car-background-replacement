"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6665],{36665:function(e,t,n){n.d(t,{Z:function(){return y}});var s=n(52322),a=n(5632),r=n(63910),i=n(34056),c=n(72081),l=n(69923),o=n(26211),u=n(3373),d=n(39097),m=n.n(d),p=n(95492),h=n(45022),x=n(99248),j=n(29354);let f=(e,t)=>{var n;let a=null!==(n=null==e?void 0:e.ref)&&void 0!==n?n:"default",{pgNetExtensionExists:r,pitrEnabled:i,columnLevelPrivileges:c}=t||{};return[{title:"Database Management",items:[{name:"Tables",key:"tables",url:"/project/".concat(a,"/database/tables"),items:[]},{name:"Functions",key:"functions",url:"/project/".concat(a,"/database/functions"),items:[]},{name:"Triggers",key:"triggers",url:"/project/".concat(a,"/database/triggers"),items:[]},{name:"Enumerated Types",key:"types",url:"/project/".concat(a,"/database/types"),items:[]},{name:"Extensions",key:"extensions",url:"/project/".concat(a,"/database/extensions"),items:[]},{name:"Indexes",key:"indexes",url:"/project/".concat(a,"/database/indexes"),items:[]},{name:"Publications",key:"publications",url:"/project/".concat(a,"/database/publications"),items:[]}]},{title:"Access Control",items:[{name:"Roles",key:"roles",url:"/project/".concat(a,"/database/roles"),items:[]},...c?[{name:"Column Privileges",key:"column-privileges",url:"/project/".concat(a,"/database/column-privileges"),items:[],label:"ALPHA"}]:[],{name:"Policies",key:"policies",url:"/project/".concat(a,"/auth/policies"),rightIcon:(0,s.jsx)(j.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]},{title:"Platform",items:[...x.Qy?[{name:"Backups",key:"backups",url:i?"/project/".concat(a,"/database/backups/pitr"):"/project/".concat(a,"/database/backups/scheduled"),items:[]}]:[],{name:"Wrappers",key:"wrappers",url:"/project/".concat(a,"/database/wrappers"),items:[]},{name:"Migrations",key:"migrations",url:"/project/".concat(a,"/database/migrations"),items:[]},...r?[{name:"Webhooks",key:"hooks",url:"/project/".concat(a,"/database/hooks"),items:[]}]:[]]},{title:"Tools",items:[{name:"Schema Visualizer",key:"schemas",url:"/project/".concat(a,"/database/schemas"),items:[]},{name:"Query Performance",key:"query-performance",url:"/project/".concat(a,"/database/query-performance"),items:[]},{name:"Security Advisor",key:"security-advisor",url:"/project/".concat(a,"/advisors/security"),rightIcon:(0,s.jsx)(j.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Performance Advisor",key:"performance-advisor",url:"/project/".concat(a,"/advisors/performance"),rightIcon:(0,s.jsx)(j.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]}]},v=()=>{let e=(0,o.V)(),t=(0,a.useRouter)().pathname.split("/")[4],{data:n}=(0,c.H)({projectRef:null==e?void 0:e.ref,connectionString:null==e?void 0:e.connectionString}),{data:u}=(0,l.F)({projectRef:null==e?void 0:e.ref}),d=void 0!==(null!=n?n:[]).find(e=>"pg_net"===e.name),h=(null==u?void 0:u.selected_addons.find(e=>"pitr"===e.type))!==void 0,x=(0,r.ar)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Q,{page:t,menu:f(e,{pgNetExtensionExists:d,pitrEnabled:h,columnLevelPrivileges:x})}),(0,s.jsx)("div",{className:"px-3",children:(0,s.jsxs)(p.bZ,{children:[(0,s.jsx)(p.Cd,{className:"text-sm",children:"Replication section has been renamed"}),(0,s.jsx)(p.X,{className:"text-xs",children:(0,s.jsxs)("p",{className:"mb-2",children:["It can be now found under"," ",(0,s.jsx)(m(),{href:"/project/".concat(null==e?void 0:e.ref,"/database/publications"),className:"underline",children:"Publications"})]})})]})})]})};var y=(0,u.Q)(e=>{let{children:t}=e;return(0,s.jsx)(h.Z,{product:"Database",productMenu:(0,s.jsx)(v,{}),isBlocking:!1,children:(0,s.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:t})})})},34056:function(e,t,n){n.d(t,{Q:function(){return u}});var s=n(52322),a=n(3085),r=n(81076),i=n(39097),c=n.n(i),l=n(32079),o=e=>{let{name:t="",isActive:n,isExternal:i,icon:o,rightIcon:u,url:d="",target:m="_self",onClick:p,textClassName:h="",hoverText:x="",label:j}=e,f=(0,s.jsx)(a.ZP.Item,{icon:o,rounded:!0,active:n,onClick:p,children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,s.jsxs)("div",{title:x||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+h,children:[(0,s.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==j&&(0,s.jsx)(r.C,{variant:"warning",children:j})]}),u&&(0,s.jsx)("div",{children:u})]})});return d?i?(0,s.jsx)(l.z,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:o,children:(0,s.jsx)(c(),{href:d,target:"_blank",rel:"noreferrer",children:t})}):(0,s.jsx)(c(),{href:d,className:"block",target:m,children:f}):f},u=e=>{let{page:t,menu:n}=e;return(0,s.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto",children:(0,s.jsx)(a.ZP,{type:"pills",children:n.map((e,i)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"my-6 space-y-8",children:(0,s.jsxs)("div",{className:"mx-3",children:[(0,s.jsx)(a.ZP.Group,{title:e.title?(0,s.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,s.jsx)("span",{children:e.title}),e.isPreview&&(0,s.jsx)(r.C,{variant:"warning",children:"Not production ready"})]}):null}),(0,s.jsx)("div",{children:e.items.map(e=>(0,s.jsx)(o,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:t===e.key,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key))})]})}),i!==n.length-1&&(0,s.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},72081:function(e,t,n){n.d(t,{H:function(){return c}});var s=n(36492),a=n(31696),r=n(24368);async function i(e,t){let{projectRef:n,connectionString:s}=e;if(!n)throw Error("projectRef is required");let r=new Headers;s&&r.set("x-connection-encrypted",s);let{data:i,error:c}=await (0,a.U2)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":s},path:{ref:n}},headers:r,signal:t});return c&&(0,a.S3)(c),i}let c=function(e){let{projectRef:t,connectionString:n}=e,{enabled:a=!0,...c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.a)(r.o.list(t),e=>{let{signal:s}=e;return i({projectRef:t,connectionString:n},s)},{enabled:a&&void 0!==t,...c})}},24368:function(e,t,n){n.d(t,{o:function(){return s}});let s={list:e=>["projects",e,"database-extensions"]}},3085:function(e,t,n){n.d(t,{ZP:function(){return m}});var s=n(52322),a=n(2784),r=n(46318),i=n(54383);function c(e){let{children:t,className:n,tag:a="div",style:r}=e;return(0,s.jsx)("".concat(a),{style:r,children:t})}c.Title=function(e){let{className:t,level:n=1,children:a,style:r}=e;return(0,s.jsx)("h".concat(n),{style:r,children:a})},c.Text=function(e){let{className:t,children:n,style:a,type:r,disabled:i,mark:c,code:l,keyboard:o,underline:u,strikethrough:d,strong:m,small:p}=e;return l?(0,s.jsx)("code",{style:a,children:n}):c?(0,s.jsx)("mark",{style:a,children:n}):o?(0,s.jsx)("kbd",{style:a,children:n}):m?(0,s.jsx)("strong",{style:a,children:n}):(0,s.jsx)("span",{style:a,children:n})},c.Link=function(e){let{children:t,target:n="_blank",href:a,className:r,onClick:i,style:c}=e;return(0,s.jsx)("a",{onClick:i,href:a,target:n,rel:"noopener noreferrer",style:c,children:t})};let l=(0,a.createContext)({type:"text"}),o=e=>{let{type:t}=e;return(0,s.jsx)(l.Provider,{value:{type:t},children:e.children})},u=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function d(e){let{children:t,className:n,ulClassName:a,style:r,type:i="text"}=e;return(0,s.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:n,style:r,children:(0,s.jsx)(o,{type:i,children:(0,s.jsx)("ul",{className:a,children:t})})})}d.Item=function(e){let{children:t,icon:n,active:a,rounded:c,onClick:l,doNotCloseOverlay:o=!1,showActiveBar:d=!1,style:m}=e,p=(0,r.Z)("menu"),{type:h}=u(),x=[p.item.base];x.push(p.item.variants[h].base),a?x.push(p.item.variants[h].active):x.push(p.item.variants[h].normal);let j=[p.item.content.base];a?j.push(p.item.content.active):j.push(p.item.content.normal);let f=[p.item.icon.base];return a?f.push(p.item.icon.active):f.push(p.item.icon.normal),(0,s.jsxs)("li",{role:"menuitem",className:(0,i.cn)("outline-none",x),style:m,onClick:l,"aria-current":a?"page":void 0,children:[n&&(0,s.jsx)("div",{className:"".concat(f.join(" ")," min-w-fit"),children:n}),(0,s.jsx)("span",{className:j.join(" "),children:t})]})},d.Group=function(e){let{children:t,icon:n,title:a}=e,i=(0,r.Z)("menu"),{type:c}=u();return(0,s.jsxs)("div",{className:[i.group.base,i.group.variants[c]].join(" "),children:[n&&(0,s.jsx)("span",{className:i.group.icon,children:n}),(0,s.jsx)("span",{className:i.group.content,children:a}),t]})},d.Misc=function(e){let{children:t}=e;return(0,s.jsx)("div",{children:(0,s.jsx)(c.Text,{children:(0,s.jsx)("span",{children:t})})})};var m=d}}]);